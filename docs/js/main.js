const n={field1:0,field2:"",field3:"",field4:"",field5:"",photo:""},g=document.querySelector(".js-name"),f=document.querySelector(".js-preview");g.addEventListener("input",e=>{f.innerHTML=e.target.value,n.field2=e.target.value});const y=document.querySelector(".js-p-one"),v=document.querySelector(".js-p-two"),j=document.querySelector(".js-p-three"),i=e=>{n.field5=e.target.id};y.addEventListener("input",i);v.addEventListener("input",i);j.addEventListener("input",i);const S=document.querySelector(".js-special-input"),L=document.querySelector(".js-special");S.addEventListener("input",e=>{L.innerHTML=e.target.value,n.field1=e.target.value});const q=document.querySelector(".js-tank"),b=document.querySelector(".js-heal"),w=document.querySelector(".js-dps"),k=document.querySelector(".js-skill"),d=e=>{k.innerHTML=e.target.value,n.field3=e.target.value};q.addEventListener("input",d);b.addEventListener("input",d);w.addEventListener("input",d);const E=document.querySelector(".js-creature"),C=document.querySelector(".js-list-creature");C.addEventListener("input",e=>{E.innerHTML=e.target.value,n.field4=e.target.value});const _=document.querySelector(".js-class"),I=document.querySelector(".js-list-class");I.addEventListener("input",e=>{_.innerHTML=e.target.value,n.field6=e.target.value});const c=new FileReader,T=document.querySelector(".js__profile-upload-btn"),M=document.querySelector(".js__profile-image"),H=document.querySelector(".js__profile-preview");function R(e){const r=e.currentTarget.files[0];c.addEventListener("load",()=>{const t=new Image;t.src=c.result,t.onload=()=>{const a=document.createElement("canvas"),h=a.getContext("2d"),s=100,u=t.height/t.width*s;a.width=s,a.height=u,h.drawImage(t,0,0,s,u);const o=a.toDataURL("image/jpeg",.9);M.style.backgroundImage=`url(${o})`,H.style.backgroundImage=`url(${o})`,n.photo=o}}),c.readAsDataURL(r)}T.addEventListener("change",R);const $=document.querySelector(".js-button-card");document.querySelector(".js-card-created");const p=document.querySelector(".js-share-x"),m=document.querySelector(".js-link"),l=document.querySelector(".js-linkApi"),x=e=>{e.preventDefault(),p.classList.toggle("collapsed"),console.log("click en crear tarjeta"),fetch("https://dev.adalab.es/api/info/data",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json"}}).then(r=>r.json()).then(r=>{const t=r.infoID;m.classList.remove("collapsed"),m.href=`./card.html?id=${t}`,p.innerHTML=`<a href="https://twitter.com/intent/tweet?text=My%20character%20sheet%20by%20PURR~SKILLS%20 à¸…â€¢Ï‰â€¢à¸… &hashtags=purrskills,rol,fichapersonaje,sheet,fyðŸ˜» 
            https://dev.adalab.es/api/info/${t}"
                    target="_blank">
                    <button class="button_twitter twitter-share-button">
                        Compartir en
                        <img class="button_twitter_icon2" src="/images/square-x-twitter-brands-solid.svg"
                            alt="twitter icon">
                    </button>
                </a>`,l.classList.remove("collapsed"),l.href=`./card.html?id=${t}`,l.innerHTML=`https://dev.adalab.es/api/info/${t}`})};$.addEventListener("click",x);
//# sourceMappingURL=main.js.map
